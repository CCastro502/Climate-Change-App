(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,a,t){for(var n=t(71),r=["2008.01.01 12:00:00","2008.01.31 12:00:00","2008.02.01 12:00:00","2008.02.29 12:00:00","2008.03.01 12:00:00","2008.03.31 12:00:00","2008.04.01 12:00:00","2008.04.30 12:00:00","2008.05.01 12:00:00","2008.05.31 12:00:00","2008.06.01 12:00:00","2008.06.30 12:00:00","2008.07.01 12:00:00","2008.07.31 12:00:00","2008.08.01 12:00:00","2008.08.31 12:00:00","2008.09.01 12:00:00","2008.09.30 12:00:00","2008.10.01 12:00:00","2008.10.31 12:00:00","2008.11.01 12:00:00","2008.11.30 12:00:00","2008.12.01 12:00:00","2008.12.31 12:00:00","2009.01.01 12:00:00","2009.01.31 12:00:00","2009.02.01 12:00:00","2009.02.28 12:00:00","2009.03.01 12:00:00","2009.03.31 12:00:00","2009.04.01 12:00:00","2009.04.30 12:00:00","2009.05.01 12:00:00","2009.05.31 12:00:00","2009.06.01 12:00:00","2009.06.30 12:00:00","2009.07.01 12:00:00","2009.07.31 12:00:00","2009.08.01 12:00:00","2009.08.31 12:00:00","2009.09.01 12:00:00","2009.09.30 12:00:00","2009.10.01 12:00:00","2009.10.31 12:00:00","2009.11.01 12:00:00","2009.11.30 12:00:00","2009.12.01 12:00:00","2009.12.31 12:00:00","2010.01.01 12:00:00","2010.01.31 12:00:00","2010.02.01 12:00:00","2010.02.28 12:00:00","2010.03.01 12:00:00","2010.03.31 12:00:00","2010.04.01 12:00:00","2010.04.30 12:00:00","2010.05.01 12:00:00","2010.05.31 12:00:00","2010.06.01 12:00:00","2010.06.30 12:00:00","2010.07.01 12:00:00","2010.07.31 12:00:00","2010.08.01 12:00:00","2010.08.31 12:00:00","2010.09.01 12:00:00","2010.09.30 12:00:00","2010.10.01 12:00:00","2010.10.31 12:00:00","2010.11.01 12:00:00","2010.11.30 12:00:00","2010.12.01 12:00:00","2010.12.31 12:00:00","2011.01.01 12:00:00","2011.01.31 12:00:00","2011.02.01 12:00:00","2011.02.28 12:00:00","2011.03.01 12:00:00","2011.03.31 12:00:00","2011.04.01 12:00:00","2011.04.30 12:00:00","2011.05.01 12:00:00","2011.05.31 12:00:00","2011.06.01 12:00:00","2011.06.30 12:00:00","2011.07.01 12:00:00","2011.07.31 12:00:00","2011.08.01 12:00:00","2011.08.31 12:00:00","2011.09.01 12:00:00","2011.09.30 12:00:00","2011.10.01 12:00:00","2011.10.31 12:00:00","2011.11.01 12:00:00","2011.11.30 12:00:00","2011.12.01 12:00:00","2011.12.31 12:00:00","2012.01.01 12:00:00","2012.01.31 12:00:00","2012.02.01 12:00:00","2012.02.29 12:00:00","2012.03.01 12:00:00","2012.03.31 12:00:00","2012.04.01 12:00:00","2012.04.30 12:00:00","2012.05.01 12:00:00","2012.05.31 12:00:00","2012.06.01 12:00:00","2012.06.30 12:00:00","2012.07.01 12:00:00","2012.07.31 12:00:00","2012.08.01 12:00:00","2012.08.31 12:00:00","2012.09.01 12:00:00","2012.09.30 12:00:00","2012.10.01 12:00:00","2012.10.31 12:00:00","2012.11.01 12:00:00","2012.11.30 12:00:00","2012.12.01 12:00:00","2012.12.31 12:00:00","2013.01.01 12:00:00","2013.01.31 12:00:00","2013.02.01 12:00:00","2013.02.28 12:00:00","2013.03.01 12:00:00","2013.03.31 12:00:00","2013.04.01 12:00:00","2013.04.30 12:00:00","2013.05.01 12:00:00","2013.05.31 12:00:00","2013.06.01 12:00:00","2013.06.30 12:00:00","2013.07.01 12:00:00","2013.07.31 12:00:00","2013.08.01 12:00:00","2013.08.31 12:00:00","2013.09.01 12:00:00","2013.09.30 12:00:00","2013.10.01 12:00:00","2013.10.31 12:00:00","2013.11.01 12:00:00","2013.11.30 12:00:00","2013.12.01 12:00:00","2013.12.31 12:00:00","2014.01.01 12:00:00","2014.01.31 12:00:00","2014.02.01 12:00:00","2014.02.28 12:00:00","2014.03.01 12:00:00","2014.03.31 12:00:00","2014.04.01 12:00:00","2014.04.30 12:00:00","2014.05.01 12:00:00","2014.05.31 12:00:00","2014.06.01 12:00:00","2014.06.30 12:00:00","2014.07.01 12:00:00","2014.07.31 12:00:00","2014.08.01 12:00:00","2014.08.31 12:00:00","2014.09.01 12:00:00","2014.09.30 12:00:00","2014.10.01 12:00:00","2014.10.31 12:00:00","2014.11.01 12:00:00","2014.11.30 12:00:00","2014.12.01 12:00:00","2014.12.31 12:00:00","2015.01.01 12:00:00","2015.01.31 12:00:00","2015.02.01 12:00:00","2015.02.28 12:00:00","2015.03.01 12:00:00","2015.03.31 12:00:00","2015.04.01 12:00:00","2015.04.30 12:00:00","2015.05.01 12:00:00","2015.05.31 12:00:00","2015.06.01 12:00:00","2015.06.30 12:00:00","2015.07.01 12:00:00","2015.07.31 12:00:00","2015.08.01 12:00:00","2015.08.31 12:00:00","2015.09.01 12:00:00","2015.09.30 12:00:00","2015.10.01 12:00:00","2015.10.31 12:00:00","2015.11.01 12:00:00","2015.11.30 12:00:00","2015.12.01 12:00:00","2015.12.31 12:00:00","2016.01.01 12:00:00","2016.01.31 12:00:00","2016.02.01 12:00:00","2016.02.29 12:00:00","2016.03.01 12:00:00","2016.03.31 12:00:00","2016.04.01 12:00:00","2016.04.30 12:00:00","2016.05.01 12:00:00","2016.05.31 12:00:00","2016.06.01 12:00:00","2016.06.30 12:00:00","2016.07.01 12:00:00","2016.07.31 12:00:00","2016.08.01 12:00:00","2016.08.31 12:00:00","2016.09.01 12:00:00","2016.09.30 12:00:00","2016.10.01 12:00:00","2016.10.31 12:00:00","2016.11.01 12:00:00","2016.11.30 12:00:00","2016.12.01 12:00:00","2016.12.31 12:00:00","2017.01.01 12:00:00","2017.01.31 12:00:00","2017.02.01 12:00:00","2017.02.28 12:00:00","2017.03.01 12:00:00","2017.03.31 12:00:00","2017.04.01 12:00:00","2017.04.30 12:00:00","2017.05.01 12:00:00","2017.05.31 12:00:00","2017.06.01 12:00:00","2017.06.30 12:00:00","2017.07.01 12:00:00","2017.07.31 12:00:00","2017.08.01 12:00:00","2017.08.31 12:00:00","2017.09.01 12:00:00","2017.09.30 12:00:00","2017.10.01 12:00:00","2017.10.31 12:00:00","2017.11.01 12:00:00","2017.11.30 12:00:00","2017.12.01 12:00:00","2017.12.31 12:00:00"],o=[],l=0;l<r.length;l++)o.push(n(r[l],"YYYY-MM-DD HH:mm:ss").unix());e.exports={times:o}},106:function(e,a,t){e.exports=t(323)},111:function(e,a,t){},113:function(e,a,t){},115:function(e,a,t){},320:function(e,a,t){},323:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(50),l=t.n(o),s=t(327),i=t(330),c=t(329),u=t(51),p=t(17),m=t(18),h=t(21),d=t(19),g=t(22);t(111);var b=function(e){return r.a.createElement("div",{id:"area"},r.a.createElement("form",{onSubmitCapture:e.onSubmit},r.a.createElement("label",{htmlFor:"search-field"},"Search an area of the world: "),r.a.createElement("input",{className:"form-control mr-sm-6",id:"search-field",name:"search",value:e.value,onChange:e.handleInputChange})))},f=t(70),v=t.n(f),w=t(101),y=t.n(w),E=(t(113),t(115),t(102)),C=(t(256),t(52)),k=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={chartData:{labels:["January","February","March","April","June","July","August","September","October","November","December"],datasets:[{labels:"Population",data:[200,300,400,5e4]}]},axisValue:1,axisDefinition:"temperatureHigh"},t.weatherInfo=function(){for(var e=t.props.weatherAverages,a=t.state.axisDefinition,n=[],r=[],o=[],l=[],s=[],i=[],c=[],u=[],p=[],m=[],h=0;h<e.length;h++)h<12?n.push(e[h][a]):12<=h<24?r.push(e[h][a]):24<=h<36?o.push(e[h][a]):36<=h<48?l.push(e[h][a]):48<=h<60?s.push(e[h][a]):60<=h<72?i.push(e[h][a]):72<=h<84?c.push(e[h][a]):84<=h<96?u.push(e[h][a]):96<=h<108?p.push(e[h][a]):108<=h<120&&m.push(e[h][a]);t.setState({chartData:{labels:["January","February","March","April","June","July","August","September","October","November","December"],datasets:[{label:"Year 1 Line",data:n,strokeColor:"rgba(151, 187, 205, 1)"},{label:"Year 2 Line",data:r,strokeColor:"rgba(121, 157, 105, 1)"},{label:"Year 3 Line",data:o,strokeColor:"rgba(161, 157, 105, 1)"},{label:"Year 4 Line",data:l,strokeColor:"rgba(111, 157, 105, 1)"},{label:"Year 5 Line",data:s,strokeColor:"rgba(121, 117, 105, 1)"},{label:"Year 6 Line",data:i,strokeColor:"rgba(101, 157, 105, 1)"},{label:"Year 7 Line",data:c,strokeColor:"rgba(121, 157, 165, 1)"},{label:"Year 8 Line",data:u,strokeColor:"rgba(181, 107, 105, 1)"},{label:"Year 9 Line",data:p,strokeColor:"rgba(143, 157, 105, 1)"},{label:"Year 10 Line",data:m,strokeColor:"rgba(121, 159, 105, 1)"}]}})},t.handleChange=function(e){switch(e.currentTarget.options.selectedIndex){case 0:console.log("High temperature"),t.setState({axisDefinition:"temperatureHigh"});break;case 1:console.log("Low temperature"),t.setState({axisDefinition:"temperatureLow"});break;case 2:console.log("Humidity"),t.setState({axisDefinition:"humidity"});break;case 3:console.log("Precipitation Intensity"),t.setState({axisDefinition:"precipIntensityMax"});break;case 4:console.log("Dew Point"),t.setState({axisDefinition:"dewPoint"});break;case 5:console.log("Visibility"),t.setState({axisDefinition:"visibility"});break;case 6:console.log("Wind Speed"),t.setState({axisDefinition:"windSpeed"});break;case 7:console.log("UV Index"),t.setState({axisDefinition:"uvIndex"});break;case 8:console.log("Cloud Cover"),t.setState({axisDefinition:"cloudCover"});break;case 9:console.log("Pressure"),t.setState({axisDefinition:"pressure"})}},t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(E.a,{data:this.state.chartData,width:1,height:1,options:{maintainAspectRatio:!0}}),r.a.createElement(C.Input,{type:"select",label:"Y-Axis",defaultValue:this.state.axisValue,onChange:this.handleChange},r.a.createElement("option",{value:"1"},"High Temp"),r.a.createElement("option",{value:"2"},"Low Temp"),r.a.createElement("option",{value:"3"},"Humidity"),r.a.createElement("option",{value:"4"},"Precipitation Intensity"),r.a.createElement("option",{value:"5"},"Dew Point"),r.a.createElement("option",{value:"6"},"Visibility"),r.a.createElement("option",{value:"7"},"Wind Speed"),r.a.createElement("option",{value:"8"},"UV Index"),r.a.createElement("option",{value:"9"},"Cloud Cover"),r.a.createElement("option",{value:"10"},"Pressure")),r.a.createElement("button",{onClick:this.weatherInfo},"Weather here!"))}}]),a}(n.Component),x=t(328),I=t(331),S=t(326),O=t(332),P=(t(10),function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).latlng={lat:t.props.lat||51.505,lng:t.props.lng||-.09},t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(k,{weatherAverages:this.props.weatherAverages})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{id:"mapid"},r.a.createElement("div",{className:"leaflet-container"},r.a.createElement(x.a,{center:this.props.latlng.lat?this.props.latlng:{lat:51.505,lng:-.09},zoom:13},r.a.createElement(I.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),r.a.createElement(S.a,{position:this.latlng},r.a.createElement(O.a,null,r.a.createElement("span",null,"A pretty CSS3 popup. ",r.a.createElement("br",null)," Easily customizable")))))))))}}]),a}(n.Component)),j=t(31),A=t.n(j),M=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={search:""},t.handleInputChange=function(e){var a=e.target,n=a.name,r=a.value;t.setState(Object(u.a)({},n,r))},t.getAverageWeather=function(e){console.log("Weather history: ",e),console.log("Length: ".concat(e.length));for(var a=[],n=0;n<e.length;n++)if(0===n||n%2===0){var r={apparentTemperatureHigh:(e[n].apparentTemperatureHigh+e[n+1].apparentTemperatureHigh)/2,apparentTemperatureLow:(e[n].apparentTemperatureLow+e[n+1].apparentTemperatureLow)/2,apparentTemperatureMax:(e[n].apparentTemperatureMax+e[n+1].apparentTemperatureMax)/2,apparentTemperatureMin:(e[n].apparentTemperatureMin+e[n+1].apparentTemperatureMin)/2,cloudCover:(e[n].cloudCover+e[n+1].cloudCover)/2,dewPoint:(e[n].dewPoint+e[n+1].dewPoint)/2,humidity:(e[n].humidity+e[n+1].humidity)/2,precipIntensity:(e[n].precipIntensity+e[n+1].precipIntensity)/2,precipIntensityMax:(e[n].precipIntensityMax+e[n+1].precipIntensityMax)/2,precipProbability:(e[n].precipProbability+e[n+1].precipProbability)/2,pressure:(e[n].pressure+e[n+1].pressure)/2,temperatureHigh:(e[n].temperatureHigh+e[n+1].temperatureHigh)/2,temperatureLow:(e[n].temperatureLow+e[n+1].temperatureLow)/2,temperatureMax:(e[n].temperatureMax+e[n+1].temperatureMax)/2,temperatureMin:(e[n].temperatureMin+e[n+1].temperatureMin)/2,uvIndex:(e[n].uvIndex+e[n+1].uvIndex)/2,visibility:(e[n].visibility+e[n+1].visibility)/2,windGust:(e[n].windGust+e[n+1].windGust)/2,windSpeed:(e[n].windSpeed+e[n+1].windSpeed)/2};console.log("New Object: ",r),a.push(r)}console.log("Data averages: ",a),t.setState({weatherAverages:a})},t.searchThis=function(e){e.preventDefault(),console.log("Search for: ".concat(t.state.search));var a=[];A.a.get("https://api.opencagedata.com/geocode/v1/json?q=".concat(t.state.search,"&key=").concat(v.a.cageAPIKey)).then(function(e){var n=e.data.results[0].geometry,r=n.lat,o=n.lng;t.setState({lat:r,lng:o});for(var l=function(e){A.a.get("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/".concat(v.a.darkSkyAPIKey,"/").concat(r,",").concat(o,",").concat(y.a.times[e],"?exclude=hourly,currently,flags")).then(function(n){console.log("Individual Data: ",n.data.daily.data[0]),a.push(n.data.daily.data[0]),29===e&&t.getAverageWeather(a)})},s=0;s<30;s++)l(s)}).catch(function(e){return console.log(e)})},t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{value:this.state.search,handleInputChange:this.handleInputChange,onSubmit:this.searchThis}),r.a.createElement(P,{latlng:{lat:this.state.lat,lng:this.state.lng},weatherAverages:this.state.weatherAverages}))}}]),a}(n.Component),D=function(e){function a(){return Object(p.a)(this,a),Object(h.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("h1",null,"Nothing yet")}}]),a}(n.Component);var L=function(){return r.a.createElement("h1",null,"404 Page Not Found")},N=(t(320),function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(h.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={email:"",password:"",passwordRepeat:"",loginEmail:"",loginPassword:"",isModalOpen:!1},t.handleInputChange=function(e){var a=e.target,n=a.name,r=a.value;t.setState(Object(u.a)({},n,r))},t.logIn=function(){t.state.loginEmail,t.state.loginPassword;A.a.get("/api/users/"+t.state.loginEmail+"/"+t.state.loginPassword+"/").then(function(e){return e.data.length>=1?(alert("Log-in successful"),t.setState({loginEmail:"",loginPassword:""})):(alert("You're log-in credentials are not correct."),t.setState({loginPassword:""})),console.log("respo: ",e),e}).catch(function(e){return console.log(e)})},t.checkEmail=function(){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.state.email)},t.closeModal=function(){t.setState({isModalOpen:!1})},t.registerUser=function(){if(!t.checkEmail())return alert("Incorrect email address");if(!(t.state.password===t.state.passwordRepeat&&t.state.password.length>7))return alert("Password did not match or was not long enough (must be 8 characters)");var e={email:t.state.email,password:t.state.password};A.a.post("/api/users",e).then(function(e){return console.log("Successful: ",e),alert("You have successfully registered"),t.closeModal(),e}).catch(function(e){return console.log(e)})},t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Climate Change App"),r.a.createElement("div",{id:"user-field"},r.a.createElement(C.Modal,{header:"User Info",trigger:r.a.createElement("a",{className:"nav-link",id:"register-link",onClick:this.registerUser},"register")},r.a.createElement("label",{htmlFor:"search-field"},"Email: "),r.a.createElement("input",{className:"form-control mr-sm-6",name:"email",id:"email",placeholder:"abc@123.com",value:this.state.email,onChange:this.handleInputChange}),r.a.createElement("label",{htmlFor:"search-field"},"Password: "),r.a.createElement("input",{className:"form-control mr-sm-6",name:"password",id:"password",placeholder:"Password",value:this.state.password,onChange:this.handleInputChange,type:"password"}),r.a.createElement("label",{htmlFor:"search-field"},"Repeat Password: "),r.a.createElement("input",{className:"form-control mr-sm-6",name:"passwordRepeat",id:"password-repeat",placeholder:"Repeat Password...",type:"password",value:this.state.passwordRepeat,onChange:this.handleInputChange}),r.a.createElement("button",{onClick:this.registerUser},"Register")),r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"abc@123.com",name:"loginEmail",id:"email",value:this.state.loginEmail,onChange:this.handleInputChange}),r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Password",name:"loginPassword",id:"password",value:this.state.loginPassword,onChange:this.handleInputChange}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",onClick:this.logIn},"Log In"))))}}]),a}(n.Component));var T=function(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(N,null),r.a.createElement(i.a,null,r.a.createElement(c.a,{exact:!0,path:"/",component:M}),r.a.createElement(c.a,{exact:!0,path:"/profile/:id",component:D}),r.a.createElement(c.a,{component:L}))))};l.a.render(r.a.createElement(T,null),document.getElementById("root"))},70:function(e,a){e.exports={cageAPIKey:"352a681eeea64cbeb49f0df280f14edc",darkSkyAPIKey:"0c5ce774505eb65bf076f514cf46c7fe"}}},[[106,2,1]]]);
//# sourceMappingURL=main.49df1ddf.chunk.js.map